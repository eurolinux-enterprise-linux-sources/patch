diff -up patch-2.7.1/src/pch.c.me patch-2.7.1/src/pch.c
--- patch-2.7.1/src/pch.c.me	2018-11-22 14:09:28.099973290 +0100
+++ patch-2.7.1/src/pch.c	2018-11-22 16:41:02.966632693 +0100
@@ -2113,7 +2113,7 @@ pch_swap (void)
     }
     if (p_efake >= 0) {			/* fix non-freeable ptr range */
 	if (p_efake <= i)
-	    n = p_end - i + 1;
+	    n = p_end - p_ptrn_lines;
 	else
 	    n = -i;
 	p_efake += n;
